# Canto config file  -*- conf -*-
name: Canto
long_name: Community curation application

# the name of the organisation running this Canto - shown in various places
# in the user interface
database_name: CONFIGURE_IN_CANTO_DEPLOY.YAML

# The name of the destination database for the annotations from this instance.
# eg. "PomBase".
# If not set a generic text will be used instead.
# database_name: SET_ME

# Set this to the URL of the destination database for the annotations
# from this Canto.  
# e.g "www.pombase.org"
# If not set the link will be replaced with some generic text.
#
# database_url: SET_ME

instance_front_subtitle: Add your work

header_image_url: '/'
header_image: logos/curation_tool.png

canto_url: http://curation.pombase.org/

app_version: v1520

schema_version: 33

## Set this to create a Canto instance for a particular organism.  If not set,
## Canto will be in multi-organism mode and the multi_organism_mode will be set.
## In multi-organism mode all gene lookups with match genes from any organism.
#instance_organism:
#  taxonid: 4896

## If set, use this map to get the NCBI taxon ID of an organism.  If not set,
## look for an Organismprop for the Organism with type "taxon_id" .
## see also: Canto::Role::TaxonIDLookup
# organism_taxon_id:
#   'Schizosaccharomyces pombe': 4896

## set to 1 to enable strains for genotypes
strains_mode: 0

# the path that the home link goes to
instance_front_path: /docs/instance_front
canto_front_path: /docs/canto_front
help_path: /docs/index

base_docs_path: docs

# if zero, the user will need to log in before the links on the front page are
# visible
public_mode: 0

extra_css: ~

authentication:
  default_realm: 'members'
  realms:
    members:
      credential:
        class: 'Password'
        password_field: 'password'
        password_type: 'hashed'
        password_hash_type: 'SHA-1'
      store:
        class: DBIx::Class
        user_class: TrackModel::Person

view_options:
  max_inline_results_length: 1000

# the maximum number of lines of existing annotations to show on the
# publication page - too many will slow the page loading
max_existing_annotations: 100

# if 1, allow editing of the expression of alleles and show the expression
# as a column in the genotype table on the genotype management page
alleles_have_expression: 1

# if 1, show the organism in a selector on the genotype management pages
# and only show genes and genotypes for the selected organism
split_genotypes_by_organism: 1

# if 0, a wildtype allele is allowed only if there is another non-wildtype or
# non-wildtype expression allele from the same gene
allow_single_wildtype_allele: 0

# if 1, allow diploids to be created and used in genotypes
diploid_mode: 0

# if 0, hide the list of genes and actions on the left hand side of
# the genotype management page
show_genotype_management_genes_list: 1

# if 1, use FlyBase specific tweaks
flybase_mode: 0

# a map of allele note types eg. { phenotype: { display_name: Phenotype } }
allele_note_types: []

# from_address - used as the "from" field is all outgoing messages
# admin_address - the contact address of the admin curators, used to
#                 alert about completed sessions and problems
email:
  from_address: CONFIGURE_ME_IN_CANTO_DEPLOY.YAML
  admin_address: CONFIGURE_ME_IN_CANTO_DEPLOY.YAML
  noreply_address: CONFIGURE_ME_IN_CANTO_DEPLOY.YAML
  # template_root: "/some/absolute/path/"
  templates:
    session_accepted:
      subject: "email_templates/generic/session_accepted_subject.mhtml"
      body: "email_templates/generic/session_accepted_body.mhtml"
    session_assigned:
      # Set the "From" to be the current, logged in admin user to make
      # messages more personal - see SourceForge #604
      from_address: CURRENT_USER
      subject: "email_templates/generic/session_assigned_subject.mhtml"
      body: "email_templates/generic/session_assigned_body.mhtml"
    session_reassigned:
      subject: "email_templates/generic/session_reassigned_subject.mhtml"
      body: "email_templates/generic/session_reassigned_body.mhtml"
    session_resent:
      from_address: CURRENT_USER
      subject: "email_templates/generic/session_resent_subject.mhtml"
      body: "email_templates/generic/session_resent_body.mhtml"
    reassigner:
      subject: "email_templates/generic/reassigner_subject.mhtml"
      body: "email_templates/generic/reassigner_body.mhtml"
    daily_summary:
      global: 1  # not an email about a particular session/publication
      subject: "email_templates/generic/daily_summary_subject.mhtml"
      body: "email_templates/generic/daily_summary_body.mhtml"

# see Canto::Meta::Util::initialise_core_data()
db_initial_data:
  track:
    cv:
      - name: canto_core
        cvterms:
          - name: is_a
            dbxref:
              accession: is_a
              db:
                name: Canto
          - name: has_qualifier
            dbxref:
              accession: has_qualifier
              db:
                name: Canto
      - name: organismprop_types
        cvterms:
          - name: taxon_id
            dbxref:
              accession: taxonId
              db:
                name: Canto
      - name: cvprop_type
        cvterms:
          - name: cv_date
            definition: 'The date the CV was last loaded'
            dbxref:
              accession: cv_date
              db:
                name: Canto
          - name: cv_term_count
            definition: 'The number of non-obsolete, non-relation terms in the CV'
            dbxref:
              accession: cv_term_count
              db:
                name: Canto
      - name: cvterm_property_type
        cvterms:
          - name: comment
            dbxref:
              accession: comment
              db:
                name: Canto
          - name: Canto numeric priority
            definition: Cvterprop type for numeric versions of annotation priorities
            dbxref:
              accession: numeric_priority
              db:
                name: Canto
          - name: canto_subset
            definition: >
              Used to store the ID of a ontology subset that this cvterm is part of.
            dbxref:
              accession: canto_subset
              db:
                name: Canto
      - name: synonym_type
        cvterms:
          - name: broad
            dbxref:
              accession: broad
              db:
                name: Canto
          - name: narrow
            dbxref:
              accession: narrow
              db:
                name: Canto
          - name: exact
            dbxref:
              accession: exact
              db:
                name: Canto
          - name: related
            dbxref:
              accession: related
              db:
                name: Canto
      - name: Canto publication type
        cvterms:
          - name: unknown
            dbxref:
              accession: unknown
              db:
                name: Canto
      - name: Canto cursprop types
        cvterms:
          - name: annotation_status
            # The session status (eg. 'SESSION_CREATED', 'CURATION_IN_PROGRESS')
            dbxref:
              accession: annotation_status
              db:
                name: Canto
          - name: annotation_status_datestamp
            # The date+time of the last status change
            dbxref:
              accession: annotation_status_datestamp
              db:
                name: Canto
          - name: session_genes_count
            # The number of genes the user has added to the session
            dbxref:
              accession: session_genes_count
              db:
                name: Canto
          - name: session_term_suggestions_count
            # The number of term suggestions made by the user in a session
            dbxref:
              accession: session_term_suggestions_count
              db:
                name: Canto
          - name: session_unknown_conditions_count
            # The number of times conditions name that don't match an ontology
            # term are used in this session
            dbxref:
              accession: session_unknown_conditions_count
              db:
                name: Canto
          - name: approver_name
            # The name of the person approving the session (if it is in the
            # APPROVAL_IN_PROGRESS state)
            dbxref:
              accession: approver_name
              db:
                name: Canto
          - name: link_sent_to_curator_date
            dbxref:
              accession: link_sent_to_curator_date
              db:
                name: Canto
          - name: session_reactivated_timestamp
            dbxref:
              accession: session_reactivated_timestamp
              db:
                name: Canto
          - name: session_unexported_timestamp
            dbxref:
              accession: session_unexported_timestamp
              db:
                name: Canto
          - name: session_exported_timestamp
            dbxref:
              accession: session_exported_timestamp
              db:
                name: Canto
          - name: session_first_exported_timestamp
            dbxref:
              accession: session_first_exported_timestamp
              db:
                name: Canto
          - name: needs_approval_timestamp
            dbxref:
              accession: needs_approval_timestamp
              db:
                name: Canto
          - name: first_approved_timestamp
            dbxref:
              accession: first_approved_timestamp
              db:
                name: Canto
          - name: session_first_submitted_timestamp
            dbxref:
              accession: session_first_submitted_timestamp
              db:
                name: Canto
      - name: Canto publication triage status
        cvterms:
          - name: New
            definition: Triage status for new papers.
            dbxref:
              accession: new
              db:
                name: Canto
          - name: Curatable
            definition: Triage status for papers that can be curated.
            dbxref:
              accession: curatable
              db:
                name: Canto
          - name: Curatable, low priority
            definition: Triage status for papers that can be curated but are low priority.
            dbxref:
              accession: curatable_low_priority
              db:
                name: Canto
          - name: Sequence feature or region
            definition: >
                Triage status for a paper that reports a sequence feature
                with no other curatable information.
            dbxref:
              accession: sequence_feature_or_region
              db:
                name: Canto
          - name: Not English
            definition: >
                Triage status for a paper that will not be curated because
                the text is not in English.
            dbxref:
              accession: not_english
              db:
                name: Canto
          - name: Method or reagent
            definition: >
                Triage status for a paper that will not be curated because it
                is a methods paper.
            dbxref:
              accession: methods_paper
              db:
                name: Canto
          - name: Wrong organism
            definition: >
                Triage status for a paper that will not be curated because the
                organism is not appropriate for this database.
            dbxref:
              accession: wrong_organism
              db:
                name: Canto
          - name: Review or comment
            definition: >
                Triage status for a review or comment.
            dbxref:
              accession: review
              db:
                name: Canto
          - name: Loaded in error
            definition: >
                Triage status for a publication that will not be curated for
                a reason the is not covered by the other statuses.
            dbxref:
              accession: loaded_in_error
              db:
                name: Canto
          - name: Erratum
            definition: >
                Triage status for an erratum.
            dbxref:
              accession: erratum
              db:
                name: Canto
          - name: Mutagenicity or toxicity study
            dbxref:
              accession: mutagenicity_or_toxicity_study
              db:
                name: Canto
          - name: Not physically mapped
            dbxref:
              accession: not_physically_mapped
              db:
                name: Canto
          - name: Cell composition or WT feature
            dbxref:
              accession: cell_composition_or_wt_feature
              db:
                name: Canto
          - name: Phylogeny and evolutionary studies
            dbxref:
              accession: phylogeny_paper 
              db:
                name: Canto
          - name: Phenotype screen
            dbxref:
              accession: phenotype_screen
              db:
                name: Canto
          - name: Structure
            dbxref:
              accession: structure
              db:
                name: Canto
          - name: Retracted
            dbxref:
              accession: retracted
              db:
                name: Canto
          - name: Modelling
            dbxref:
              accession: modelling
              db:
                name: Canto
          - name: Biotech
            dbxref:
              accession: biotech
              db:
                name: Canto
          - name: Database
            dbxref:
              accession: database
              db:
                name: Canto
          - name: Other
            definition: >
                Triage status for a publication that will not be curated for
                a reason the is not covered by the other statuses.
            dbxref:
              accession: other
              db:
                name: Canto
      - name: Canto curation priorities
        definition: Priorities assigned to papers 
        cvterms:
          - name: low
            dbxref:
              accession: low_priority
              db:
                name: Canto
            cvtermprop_cvterms:
              - type:
                  name: Canto numeric priority
                value: 100
          - name: high
            dbxref:
              accession: high_priority
              db:
                name: Canto
            cvtermprop_cvterms:
              - type:
                  name: Canto numeric priority
                value: 1000
      - name: Canto user types
        cvterms:
          - name: user
            dbxref:
              accession: user
              db:
                name: Canto
          - name: admin
            dbxref:
              accession: admin
              db:
                name: Canto
      - name: Canto publication curation status
        cvterms:
          - name: not started
            dbxref:
              accession: not_started
              db:
                name: Canto
          - name: complete
            dbxref:
              accession: complete
              db:
                name: Canto
      - name: Canto publication experiment types
        cvterms:
          - name: Genome wide
            dbxref:
              accession: genome_wide
              db:
                name: Canto
          - name: High throughput
            dbxref:
              accession: high_throughput
              db:
                name: Canto
          - name: Computational analysis
            dbxref:
              accession: computational_analysis
              db:
                name: Canto
      # possibilities for the type_id of pubprops
      - name: Canto publication property types
        cvterms:
          - name: experiment_type
            dbxref:
              accession: experiment_type
              db:
                name: Canto
          - name: triage_comment
            dbxref:
              accession: triage_comment
              db:
                name: Canto
      - name: Canto publication load types
        definition: >
          Publications can be added to database by the administrator or by user
          actions such as going to /tools/pubmed_id_start.  Types in this CV
          record that information.  A publication loaded by user actions can be
          removed if no curation session refers to it.
        cvterms:
          - name: user_load
            definition: Type used for a publication loaded by a user action.
            dbxref:
              accession: user_load
              db:
                name: Canto
          - name: admin_load
            definition: Type used for a publication loaded by the administrator.
            dbxref:
              accession: user_load
              db:
                name: Canto
      - name: Canto metadata types
        definition: Types for the metadata table.
        cvterms:
          - name: schema_version
            definition: >
              Version number of the track schema, incremented when the schema
              changes.
            dbxref:
              accession: schema_version
              db:
                name: Canto
      - name: PubMed publication types
        definition: >
          Publication types loaded from the PublicationType elements
          of the PubMed XML.
        cvterms:
          - name: paper
            dbxref:
              accession: pubmed_paper
              db:
                name: Canto
          - name: review
            dbxref:
              accession: pubmed_review
              db:
                name: Canto

class_info:
  track:
    cv:
      class_display_name: controlled vocabulary
      editable: 1
      display_field: name
      field_info_list:
        - name: name
          editable: 1
        - name: definition
          editable: 1
        - name: "term count"
          source:
            sql: 'select count(*) from cvterm where cvterm.cv_id = me.cv_id'
        - name: "load date"
          source:
            sql: "select value from cvprop p join cvterm pt on p.type_id = pt.cvterm_id where p.cv_id = me.cv_id and pt.name = 'cv_date'"
    cvprop:
      class_display_name: controlled vocabulary properties
      display_field: value
      field_info_list:
        - name: type
          source: type_id
          referenced_class: Cvterm
        - name: value
          editable: 1
    cvterm:
      class_display_name: controlled vocabulary term
      editable: 1
      display_field: name
      field_info_list:
        - name: name
          editable: 1
        - name: definition
          editable: 1
        - name: cv_id
          editable: 1
    db:
      editable: 1
      display_field: name
      field_info_list:
        - name: name
          editable: 1
        - name: description
          editable: 1
        - name: url
          editable: 1
        - name: "accessions stored"
          source:
            sql: 'select count(*) from dbxref where dbxref.db_id = me.db_id'
    dbxref:
      editable: 1
      display_field: accession
      field_info_list:
        - name: db_id
          editable: 1
        - name: accession
          editable: 1
        - name: description
          editable: 1
        - name: cvterm_id
          editable: 1
    organism:
      editable: 1
      display_field: full_name
      order_by:
        - scientific_name
      field_info_list:
        - name: scientific_name
          editable: 1
    organism_report:
      extends: organism
      '+field_info_list':
        - name: Number of genes
          source:
            sql: 'select count(*) from gene where gene.organism = me.organism_id'
    person:
      object_title_format: 'Details for @@DISPLAY_FIELD@@'
      editable: 1
      display_field: name
      order_by: name
      search_fields:
        - email_address
        - name
        - orcid
      field_info_list:
        - name: name
          source: name
          editable: 1
        - name: orcid
          editable: 1
        - name: known_as
          editable: 1
        - name: email_address
          editable: 1
        - name: role
          default_value: "'user'"
          values_constraint: 'where me.cv_id = (SELECT cv_id FROM cv where cv.name = "Canto user types")'
          editable: 1
          admin_only: 1
        - name: Sessions
          source:
            sql: "select count(curs) from curs_curator cc1 where cc1.curator = person_id and curs_curator_id = (select max(curs_curator_id) from curs_curator cc2 where cc2.curs = cc1.curs)"
        - name: Approved sessions
          source:
            sql: "select count(curs) from curs_curator cc1 where cc1.curator = person_id and curs_curator_id = (select max(curs_curator_id) from curs_curator cc2 where cc2.curs = cc1.curs) and cc1.curs in (select curs_id from curs where curs_id in (select curs from cursprop p join cvterm t on p.type = t.cvterm_id where t.name = 'annotation_status' and p.value = 'APPROVED'))"
        - name: password
          editable: 1
          admin_only: 1
    lab:
      editable: 1
      display_field: name
      order_by: name
      field_info_list:
        - name: name
          editable: 1
        - name: lab_head
          editable: 1
        - name: people
          is_collection: 1
          editable: 1
    pub:
      object_title_format: 'Details for publication: @@$object->uniquename()@@'
      class_display_name: publication
      display_field: 'Publication ID'
      search_fields:
        - uniquename
      editable: 1
      # hack to order by pubmed id, or by doi number
      order_by: "cast((case me.uniquename like 'PMID:%' WHEN 1 THEN substr(me.uniquename, 6) ELSE me.uniquename END) as integer)"
      field_info_list:
        - name: 'Publication ID'
          source: uniquename
        - name: title
        - name: authors
        - name: abstract
          extra_field_class: non-important-attribute-field
          hide_context:
            - list
            - inline_list
        - name: citation
          hide_context:
            - list
            - inline_list
        - name: publication_date
          hide_context:
            - list
            - inline_list
        - name: affiliation
          hide_context:
            - list
            - inline_list
        - name: corresponding_author
          editable: 1
        - name: current_curator
          referenced_class: Person
          source:
            sql: "select curator from curs_curator where curs_curator_id = (select max(curs_curator_id) from curs_curator cc, curs c where cc.curs = c.curs_id and c.pub = me.pub_id)"
        - name: session_first_sent
          source:
            sql: "select (case when (value is null) THEN 'no' ELSE value END) from curs, cursprop p, cvterm t where me.pub_id = curs.pub and curs.curs_id = p.curs and t.cvterm_id = p.type and t.name = 'link_sent_to_curator_date' order by value"
          default: no
          editable: 0
        - name: session_last_sent
          source:
            sql: "select (case when (value is null) THEN 'no' ELSE value END) from curs, cursprop p, cvterm t where me.pub_id = curs.pub and curs.curs_id = p.curs and t.cvterm_id = p.type and t.name = 'link_sent_to_curator_date' order by value DESC"
          default: no
          editable: 0
        - name: session_sent_count
          source:
            sql: "cast((select count(value) from curs, cursprop p, cvterm t where me.pub_id = curs.pub and curs.curs_id = p.curs and t.cvterm_id = p.type and t.name = 'link_sent_to_curator_date') as int)"
        # - name: type
        #   source: type_id
        #   values_constraint: 'where me.cv_id = (SELECT cv_id FROM cv where cv.name = "Canto publication type")'
        #   referenced_class: Cvterm
        #   editable: 1
        - name: session_status
          source:
            sql: "select value from curs, cursprop p, cvterm t where me.pub_id = curs.pub and curs.curs_id = p.curs and t.cvterm_id = p.type and t.name = 'annotation_status'"
          editable: 0
        - name: approver_name
          source:
            sql: "select value from curs, cursprop p, cvterm t where me.pub_id = curs.pub and curs.curs_id = p.curs and t.cvterm_id = p.type and t.name = 'approver_name'"
          editable: 0
        - name: load_type
          source: load_type_id
          values_constraint: 'where me.cv_id = (SELECT cv_id FROM cv where cv.name = "Canto publication load types")'
          referenced_class: Cvterm
          editable: 1
          hide_context:
            - list
            - inline_list
        - name: triage_status
          source: triage_status_id
          values_constraint: 'where me.cv_id = (SELECT cv_id FROM cv where cv.name = "Canto publication triage status")'
          referenced_class: Cvterm
          editable: 1
          hide_context:
            - inline_list
        - name: curation_priority
          source: curation_priority_id
          values_constraint: 'where me.cv_id = (SELECT cv_id FROM cv where cv.name = "Canto curation priorities")'
          referenced_class: Cvterm
          editable: 1
    pub_curation_status:
      class_display_name: publication curation status
      display_field: status_id
      editable: 1
      field_info_list:
        - name: publication
          source: pub_id
          editable: 1
        - name: annotation_type
          editable: 1
        - name: status
          source: status_id
          values_constraint: 'where me.cv_id = (SELECT cv_id FROM cv where cv.name = "Canto publication curation status")'
          referenced_class: Cvterm
          editable: 1
    pubprop:
      class_display_name: publication properties
      display_field: value
      editable: 1
      field_info_list:
        - name: publication
          source: pub_id
          editable: 1
        - name: type_id
          values_constraint: 'where me.cv_id = (SELECT cv_id FROM cv where cv.name = "Canto publication experiment types")'
          referenced_class: Cvterm
          editable: 1
        - name: value
          editable: 1
    curs:
      class_display_name: curation session
      display_field: curs_key
      editable: 0
      field_info_list:
        - name: curs_key
          editable: 0
        - name: publication
          editable: 0
          source: pub
        - name: creation_date
          editable: 0
        - name: current_curator
          referenced_class: Person
          source:
            sql: "select curator from curs_curator where curs_curator_id = (select max(curs_curator_id) from curs_curator where curs = me.curs_id)"
        - name: accepted
          source:
            sql: "select (case when (accepted_date is null) THEN 'no' ELSE accepted_date END) from curs_curator where curs_curator_id = (select max(curs_curator_id) from curs_curator where curs = me.curs_id)"
        - name: last_assigned
          source:
            sql: "select creation_date from curs_curator where curs_curator_id = (select max(curs_curator_id) from curs_curator where curs = me.curs_id)"
        - name: last_sent_date
          source:
            sql: "select value from cursprop p, cvterm t where me.curs_id = p.curs and t.cvterm_id = p.type and t.name = 'link_sent_to_curator_date' order by value DESC"
        - name: session_sent_count
          source:
            sql: "cast((select count(value) from cursprop p, cvterm t where me.curs_id = p.curs and t.cvterm_id = p.type and t.name = 'link_sent_to_curator_date') as int)"
        - name: status
          source:
            sql: "select value from cursprop p, cvterm t where me.curs_id = p.curs and t.cvterm_id = p.type and t.name = 'annotation_status'"
        - name: approver_name
          source:
            sql: "select value from cursprop p, cvterm t where me.curs_id = p.curs and t.cvterm_id = p.type and t.name = 'approver_name'"
        - name: genes_added
          source:
            sql: "cast((select value from cursprop p, cvterm t where me.curs_id = p.curs and t.cvterm_id = p.type and t.name = 'session_genes_count') as int)"
        - name: term_suggestions
          source:
            sql: "cast((select value from cursprop p, cvterm t where me.curs_id = p.curs and t.cvterm_id = p.type and t.name = 'session_term_suggestions_count') as int)"
# if the hook dies the creation fails
      pre_create_hook: 'Canto::Track::create_curs_db_hook'
    cursprop:
      class_display_name: Session properties
      editable: 1
      field_info_list:
        - name: type
          values_constraint: 'where me.cv_id = (SELECT cv_id FROM cv where cv.name = "Canto cursprop types")'
          referenced_class: Cvterm
          editable: 1
        - name: value
          editable: 1
        - name: curs
          editable: 1
    curs_curator:
      class_display_name: Session curator
      editable: 1
      field_info_list:
        - name: curs
          editable: 1
        - name: curator
          editable: 1
    strain:
      class_display_name: Strain
      editable: 0
    gene:
      editable: 1
      display_field: primary_identifier
      search_fields:
        - primary_identifier
        - primary_name
        - product
      field_info_list:
        - name: primary_identifier
          editable: 1
        - name: primary_name
          editable: 1
        - name: product
          editable: 1
        - name: genesynonyms
          editable: 1
          is_collection: 1
        - name: organism
          editable: 1
    genesynonym:
      editable: 1
      display_field: identifier
      field_info_list:
        - name: identifier
          editable: 1
        - name: gene
          editable: 1
    all_publications:
      extends: pub
    untriged_publications:
      class_display_name: un-triaged publications
      extends: pub
      constraint: "triage_status_id = (select cvterm_id from cvterm where name = 'New')"
    triaged_publications:
      extends: pub
      constraint: "triage_status_id not in (select cvterm_id from cvterm where name = 'New')"
    named_genes:
      extends: gene
      constraint: "primary_name is not null"
    curatable_publications:
      extends: pub
      constraint: "triage_status_id in (select cvterm_id from cvterm where name = 'Curatable')"
    uncuratable_publications:
      extends: pub
      constraint: "triage_status_id not in (select cvterm_id from cvterm where name ='Curatable' or name = 'New')"
    high_priority_publications:
      extends: pub
      constraint: "curation_priority_id in (select cvterm_id from cvterm where name = 'high')"
    community_curatable_publications:
      extends: pub
      constraint: "triage_status_id in (select cvterm_id from cvterm where name = 'Curatable') and pub_id in (select pub from curs_curator cc join curs on curs_id = cc.curs join person on person.person_id = cc.curator join cvterm role on person.role = role.cvterm_id and role.name <> 'admin')"
    publications_with_a_community_session:
      extends: pub
      constraint: "pub_id in (select pub from curs_curator cc join curs on curs_id = cc.curs join person on person.person_id = cc.curator join cvterm role on person.role = role.cvterm_id and role.name <> 'admin')"
    uncuratable_publications_with_a_community_session:
      extends: pub
      constraint: "triage_status_id in (select cvterm_id from cvterm where name <> 'Curatable') and pub_id in (select pub from curs_curator cc join curs on curs_id = cc.curs join person on person.person_id = cc.curator join cvterm role on person.role = role.cvterm_id and role.name <> 'admin')"
    curated_publications:
      extends: pub
      constraint: "pub_id in (select pub from curs where curs_id in (select curs from cursprop p, cvterm t where t.cvterm_id = p.type and t.name = 'annotation_status' and (p.value = 'NEEDS_APPROVAL' or p.value = 'APPROVAL_IN_PROGRESS' or p.value ='APPROVED')))"
    community_curated_publications:
      extends: pub
      constraint: "pub_id in (select pub from curs_curator cc join curs on curs_id = cc.curs join person on person.person_id = cc.curator join cvterm role on person.role = role.cvterm_id and role.name <> 'admin') and pub_id in (select pub from curs where curs_id in (select curs from cursprop p, cvterm t where t.cvterm_id = p.type and t.name = 'annotation_status' and (p.value = 'NEEDS_APPROVAL' or p.value = 'APPROVAL_IN_PROGRESS' or p.value ='APPROVED')))"
    curatable_low_priority_publications:
      extends: pub
      constraint: "triage_status_id in (select cvterm_id from cvterm where name = 'Curatable, low priority')"
    triage_sequence_feature_or_region_publications:
      class_display_name: Sequence feature or region
      extends: pub
      constraint: "triage_status_id in (select cvterm_id from cvterm where name = 'Sequence feature or region')"
    triage_browser_datasets_to_host:
      class_display_name: Browser datasets, to host
      extends: pub
      constraint: "triage_status_id in (select cvterm_id from cvterm where name = 'Browser datasets, to host')"
    triage_browser_datasets_hosted:
      class_display_name: Browser datasets, hosted
      extends: pub
      constraint: "triage_status_id in (select cvterm_id from cvterm where name = 'Browser datasets, hosted')"
    triage_dna_replication_related:
      class_display_name: DNA replication related
      extends: pub
      constraint: "triage_status_id in (select cvterm_id from cvterm where name = 'DNA replication related')"
    triage_dna_recombination_related:
      class_display_name: DNA recombination related
      extends: pub
      constraint: "triage_status_id in (select cvterm_id from cvterm where name = 'DNA recombination related')"
    triage_mitochondrial_sequence_related:
      class_display_name: Mitochondrial sequence related
      extends: pub
      constraint: "triage_status_id in (select cvterm_id from cvterm where name = 'Mitochondrial sequence related')"
    triage_3d_genome_organization:
      class_display_name: 3D genome organization
      extends: pub
      constraint: "triage_status_id in (select cvterm_id from cvterm where name = '3D genome organization')"
    triage_transposon_related:
      class_display_name: Transposon related
      extends: pub
      constraint: "triage_status_id in (select cvterm_id from cvterm where name = 'Transposon related')"
    triage_mating_type_related:
      class_display_name: Mating-type related
      extends: pub
      constraint: "triage_status_id in (select cvterm_id from cvterm where name = 'Mating-type related')"
    triage_not_english_publications:
      class_display_name: Not English
      extends: pub
      constraint: "triage_status_id in (select cvterm_id from cvterm where name = 'Not English')"
    triage_wrong_organism_publications:
      class_display_name: Wrong organism
      extends: pub
      constraint: "triage_status_id in (select cvterm_id from cvterm where name = 'Wrong organism')"
    triage_method_or_reagent_publications:
      class_display_name: Method or reagent
      extends: pub
      constraint: "triage_status_id in (select cvterm_id from cvterm where name = 'Method or reagent')"
    triage_other_publications:
      class_display_name: Other
      extends: pub
      constraint: "triage_status_id in (select cvterm_id from cvterm where name = 'Other')"
    triage_phenotype_screen_publications:
      class_display_name: Phenotype screen publications
      extends: pub
      constraint: "triage_status_id in (select cvterm_id from cvterm where name = 'Phenotype screen')"
    triage_structure_publications:
      class_display_name: Structure publications
      extends: pub
      constraint: "triage_status_id in (select cvterm_id from cvterm where name = 'Structure')"
    triage_review_or_comment_publications:
      class_display_name: Review or comment
      extends: pub
      constraint: "triage_status_id in (select cvterm_id from cvterm where name = 'Review or comment')"
    triage_erratum_publications:
      class_display_name: Erratum
      extends: pub
      constraint: "triage_status_id in (select cvterm_id from cvterm where name = 'Erratum')"
    triage_mutagenicity_or_toxicity_study_publications:
      class_display_name: Mutagenicity or toxicity study
      extends: pub
      constraint: "triage_status_id in (select cvterm_id from cvterm where name = 'Mutagenicity or toxicity study')"
    triage_not_physically_mapped_publications:
      class_display_name: Not physically mapped
      extends: pub
      constraint: "triage_status_id in (select cvterm_id from cvterm where name = 'Not physically mapped')"
    triage_cell_composition_or_wt_feature_publications:
      class_display_name: Cell composition or WT feature
      extends: pub
      constraint: "triage_status_id in (select cvterm_id from cvterm where name = 'Cell composition or WT feature')"
    triage_phylogeny_paper_publications:
      class_display_name: Phylogeny and evolutionary studies
      extends: pub
      constraint: "triage_status_id in (select cvterm_id from cvterm where name = 'Phylogeny and evolutionary studies')"
    triage_retracted_publications:
      class_display_name: Retracted
      extends: pub
      constraint: "triage_status_id in (select cvterm_id from cvterm where name = 'Retracted')"
    triage_modelling_publications:
      class_display_name: Modelling
      extends: pub
      constraint: "triage_status_id in (select cvterm_id from cvterm where name = 'Modelling')"
    triage_biotech_publications:
      class_display_name: Biotech
      extends: pub
      constraint: "triage_status_id in (select cvterm_id from cvterm where name = 'Biotech')"
    triage_database_publications:
      class_display_name: Database
      extends: pub
      constraint: "triage_status_id in (select cvterm_id from cvterm where name = 'Database')"
    triage_loaded_in_error_publications:
      class_display_name: Loaded in error
      extends: pub
      constraint: "triage_status_id in (select cvterm_id from cvterm where name = 'Loaded in error')"
    curatable_publications_with_sessions:
      extends: pub
      constraint: "pub_id in (select pub from curs) and triage_status_id in (select cvterm_id from cvterm where name = 'Curatable')"
    publications_with_multiple_sessions:
      extends: pub
      constraint: "triage_status_id in (select cvterm_id from cvterm where name = 'Curatable') and exists (select * from curs c1, curs c2 where c1.pub = me.pub_id and c2.pub = me.pub_id and c1.curs_id <> c2.curs_id)"
    curatable_publications_without_sessions:
      extends: pub
      constraint: "pub_id not in (select pub from curs) and triage_status_id in (select cvterm_id from cvterm where name = 'Curatable')"
    curatable_publications_with_corresponding_author_without_sessions:
      extends: pub
      constraint: "pub_id not in (select pub from curs) and triage_status_id in (select cvterm_id from cvterm where name = 'Curatable') AND corresponding_author IS NOT NULL"
    publications_with_new_sessions:
      extends: pub
      constraint: "pub_id in (select pub from curs where curs_id in (select curs from cursprop p, cvterm t where t.cvterm_id = p.type and t.name = 'annotation_status' and p.value = 'SESSION_CREATED')) and triage_status_id in (select cvterm_id from cvterm where name = 'Curatable')"
    publications_with_active_sessions:
      extends: pub
      constraint: "pub_id in (select pub from curs where curs_id in (select curs from cursprop p, cvterm t where t.cvterm_id = p.type and t.name = 'annotation_status' and (p.value = 'SESSION_ACCEPTED' or p.value = 'CURATION_IN_PROGRESS' or p.value = 'CURATION_PAUSED'))) and triage_status_id in (select cvterm_id from cvterm where name = 'Curatable')"
    publications_with_session_needing_approval:
      extends: pub
      '+field_info_list':
        - name: last_status_change
          source:
            sql: "select value from curs, cursprop p, cvterm t where me.pub_id = curs.pub and curs.curs_id = p.curs and t.cvterm_id = p.type and t.name = 'annotation_status_datestamp'"
          editable: 0
      constraint: "pub_id in (select pub from curs where curs_id in (select curs from cursprop p, cvterm t where t.cvterm_id = p.type and t.name = 'annotation_status' and (p.value = 'NEEDS_APPROVAL' or p.value = 'APPROVAL_IN_PROGRESS')))"
    publications_with_approved_session:
      extends: pub
      constraint: "pub_id in (select pub from curs where curs_id in (select curs from cursprop p, cvterm t where t.cvterm_id = p.type and t.name = 'annotation_status' and p.value = 'APPROVED'))"
    curatable_publications_with_no_annotatable_genes:
      extends: pub
      constraint: "pub_id in (select pub from curs where curs_id in (select curs from cursprop p, cvterm t where t.cvterm_id = p.type and t.name = 'annotation_status' and (p.value = 'NEEDS_APPROVAL' or p.value = 'APPROVAL_IN_PROGRESS')) and curs_id in (select curs from cursprop p, cvterm t where t.cvterm_id = p.type and t.name = 'session_genes_count' and p.value = 0)) and triage_status_id in (select cvterm_id from cvterm where name = 'Curatable')"
    publications_without_corresponding_author:
      extends: pub
      constraint: "corresponding_author is null"
    all_community_sessions:
      extends: curs
      constraint: "me.curs_id IN (select curs from curs_curator cc join curs on curs_id = cc.curs join person on person.person_id = cc.curator join cvterm role on person.role = role.cvterm_id and role.name <> 'admin' and cc.curs_curator_id = (select max(curs_curator_id) from curs_curator where curs = me.curs_id))"
    community_sessions_never_sent:
      extends: curs
      constraint: "me.curs_id IN (select curs from curs_curator cc join curs on curs_id = cc.curs join person on person.person_id = cc.curator join cvterm role on person.role = role.cvterm_id and role.name <> 'admin' AND cc.curs NOT IN (select curs from cursprop p, cvterm t where cc.curs = p.curs and t.cvterm_id = p.type and t.name = 'link_sent_to_curator_date'))"
    community_sessions_not_started_and_never_sent:
      extends: curs
      constraint: "me.curs_id IN (select curs from curs_curator cc join curs on curs_id = cc.curs join person on person.person_id = cc.curator join cvterm role on person.role = role.cvterm_id and role.name <> 'admin' AND cc.curs NOT IN (select curs from cursprop p, cvterm t where cc.curs = p.curs and t.cvterm_id = p.type and t.name = 'link_sent_to_curator_date') AND cc.curs IN (select p.curs from cursprop p, cvterm t where t.cvterm_id = p.type and t.name = 'annotation_status' and p.value = 'SESSION_CREATED'))"

    sessions_needing_approval:
      extends: curs
      constraint: "me.curs_id in (select curs from cursprop p, cvterm t where t.cvterm_id = p.type and t.name = 'annotation_status' and (p.value = 'NEEDS_APPROVAL' or p.value = 'APPROVAL_IN_PROGRESS'))"
    sessions_without_a_curator:
      extends: curs
      constraint: "me.curs_id not in (select curs from curs_curator)"
    exported_sessions:
      extends: curs
      constraint: "me.curs_id in (select curs from cursprop p, cvterm t where t.cvterm_id = p.type and t.name = 'annotation_status' and p.value = 'EXPORTED')"
    sessions_with_term_requests:
      extends: curs
      constraint: "me.curs_id in (select curs from cursprop p, cvterm t where t.cvterm_id = p.type and t.name = 'annotation_status' and (p.value = 'CURATION_IN_PROGRESS' or p.value = 'CURATION_PAUSED' or p.value = 'NEEDS_APPROVAL' or p.value = 'APPROVAL_IN_PROGRESS')) and me.curs_id in (select curs from cursprop p, cvterm t where t.cvterm_id = p.type and t.name = 'session_term_suggestions_count' and value > 0)"
    reactivated_sessions:
      extends: curs
      constraint: "me.curs_id in (select curs from cursprop p, cvterm t where t.cvterm_id = p.type and t.name = 'annotation_status' and (p.value = 'CURATION_IN_PROGRESS')) and me.curs_id in (select curs from cursprop p, cvterm t where t.cvterm_id = p.type and t.name = 'session_reactivated_timestamp')"
    approved_sessions:
      extends: curs
      constraint: "me.curs_id in (select curs from cursprop p, cvterm t where t.cvterm_id = p.type and t.name = 'annotation_status' and p.value = 'APPROVED')"
    all_sessions:
      extends: curs
  chado:
    chadoprop:
      class_display_name: chado properties
      editable: 0
      display_field: value
      field_info_list:
        - name: type
          source: type_id
          referenced_class: Cvterm
        - name: value
          editable: 0
    cv:
      class_display_name: controlled vocabulary
      editable: 1
      display_field: name
      field_info_list:
        - name: name
          editable: 1
        - name: definition
          editable: 1
        - name: "terms in this CV"
          source:
            sql: 'select count(*) from cvterm where cvterm.cv_id = me.cv_id'
        - name: "terms used"
          source:
            sql: 'select count(*) from cvterm c where c.cv_id = me.cv_id and c.cvterm_id in (select cvterm_id from feature_cvterm)'
        - name: "annotation count"
          source:
            sql: 'select count(*) from feature_cvterm fc, cvterm c where fc.cvterm_id = c.cvterm_id and c.cv_id = me.cv_id'
    cvterm:
      class_display_name: controlled vocabulary term
      editable: 1
      display_field: name
      field_info_list:
        - name: name
          editable: 1
        - name: definition
          editable: 1
        - name: cv
          source: cv_id
          editable: 1
        - name: dbxref_id
          editable: 1
        - name: "features annotated with this term"
          source:
            sql: 'select count(*) from feature_cvterm fc where fc.cvterm_id = me.cvterm_id'
    organism:
      editable: 1
      display_field: full_name
      order_by:
        - genus
        - species
      field_info_list:
        - name: genus
          editable: 1
        - name: species
          editable: 1
    pub:
      object_title_format: 'Details for publication ID: @@$object->uniquename()@@'
      class_display_name: publication
      display_field: title
      editable: 1
      field_info_list:
        - name: title
          editable: 1
        - name: uniquename
          editable: 1
        - name: type
          source: type_id
          values_constraint: 'where me.cv_id = (SELECT cv_id FROM cv where cv.name = "genedb_literature")'
          referenced_class: Cvterm
          editable: 1
    feature:
      editable: 1
      display_field: uniquename
      search_fields:
        - uniquename
        - name
      field_info_list:
        - name: uniquename
          editable: 1
        - name: name
          editable: 1
        - name: type
          source: type_id
          values_constraint: 'where me.cv_id = (SELECT cv_id FROM cv where cv.name = "sequence")'
          referenced_class: Cvterm
          editable: 1
        - name: featureprops
          is_collection: 1
          editable: 1
    featureprop:
      editable: 1
      display_field: value
      field_info_list:
        - name: type
          source: type_id
          referenced_class: Cvterm
        - name: value
          editable: 1
    db:
      editable: 1
      display_field: name
      field_info_list:
        - name: name
          editable: 1
        - name: description
          editable: 1
        - name: url
          editable: 1
        - name: "accessions stored"
          source:
            sql: 'select count(*) from dbxref where dbxref.db_id = me.db_id'
    dbxref:
      editable: 1
      display_field: accession
      field_info_list:
        - name: db_id
          editable: 1
        - name: accession
          editable: 1
        - name: description
          editable: 1
    genes:
      extends: feature
      constraint: "type_id = (select cvterm_id from cvterm, cv where cvterm.name = 'gene' and cvterm.cv_id = cv.cv_id and cv.name = 'sequence')"
    pombe_genes:
      class_display_name: S. pombe genes
      extends: feature
      constraint: "type_id = (select cvterm_id from cvterm, cv where cvterm.name = 'gene' and cvterm.cv_id = cv.cv_id and cv.name = 'sequence') and organism_id = (select organism_id from organism where genus = 'Schizosaccharomyces' and species = 'pombe')"
    protein_and_domain_terms:
      class_display_name: PomBase family or domain terms
      extends: cvterm
      constraint: "cv_id = (select cv_id from cv where cv.name = 'PomBase family or domain')"
    types_and_counts:
      class_display_name: SO DNA feature types and counts
      constraint: "(select count(*) from feature where type_id = me.cvterm_id) > 0"
      display_field: name
      extends: cvterm
      field_info_list:
        - name: name
          editable: 1
        - name: cv
          source: cv_id
          editable: 1
        - name: "features of this type"
          as: count
          source:
            sql: 'select count(*) from feature where type_id = me.cvterm_id'

reports:
  track:
    - report: all_publications
      children:
        - report: untriged_publications
        - report: triaged_publications
          children:
            - report: curatable_publications
              children:
                - report: curatable_publications_with_sessions
                  children:
                   - report: publications_with_new_sessions
                   - report: publications_with_active_sessions
                   - report: publications_with_session_needing_approval
                   - report: publications_with_approved_session
                   - report: publications_with_multiple_sessions
                - report: curatable_publications_without_sessions
                - report: curatable_publications_with_corresponding_author_without_sessions
                - report: curatable_publications_with_no_annotatable_genes
                - report: triage_structure_publications
                - report: triage_phenotype_screen_publications
            - report: curatable_low_priority_publications
            - report: community_curatable_publications
            - report: publications_with_a_community_session
            - report: uncuratable_publications
              children:
                - report: uncuratable_publications_with_a_community_session
                - report: triage_sequence_feature_or_region_publications
                  children:
                    - report: triage_browser_datasets_to_host
                    - report: triage_browser_datasets_hosted
                    - report: triage_dna_replication_related
                    - report: triage_dna_recombination_related
                    - report: triage_mitochondrial_sequence_related
                    - report: triage_3d_genome_organization
                    - report: triage_transposon_related
                    - report: triage_mating_type_related
                - report: triage_not_english_publications
                - report: triage_method_or_reagent_publications
                - report: triage_wrong_organism_publications
                - report: triage_review_or_comment_publications
                - report: triage_erratum_publications
                - report: triage_mutagenicity_or_toxicity_study_publications
                - report: triage_not_physically_mapped_publications
                - report: triage_cell_composition_or_wt_feature_publications
                - report: triage_phylogeny_paper_publications
                - report: triage_retracted_publications
                - report: triage_modelling_publications
                - report: triage_biotech_publications
                - report: triage_database_publications
                - report: triage_loaded_in_error_publications
                - report: triage_other_publications
            - report: curated_publications
              children:
                - report: community_curated_publications
        - report: publications_without_corresponding_author
    - report: all_sessions
      children:
        - report: approved_sessions
        - report: sessions_with_term_requests
        - report: reactivated_sessions
        - report: sessions_without_a_curator
        - report: exported_sessions
        - report: all_community_sessions
        - report: community_sessions_never_sent
        - report: community_sessions_not_started_and_never_sent
#        - report: sessions_needing_approval
#    - report: named_genes
  chado:
    - report: protein_and_domain_terms
    - report: types_and_counts

export:
  gene_association_fields:
    db: "PomBase"
    assigned_by: "PomBase"
  canto_json:
    pub_triage_status_to_export:
      - Curatable
      - Browser datasets, to host
      - Browser datasets, hosted
      - Method or reagent
      - Review or comment
      - Mutagenicity or toxicity study
      - Biotech
      - Modelling
      - Database
      - 3D genome organization
      - Phylogeny and evolutionary studies
      - Cell composition or WT feature
      - Not physically mapped
      - Transposon related
      - Mating-type related
      - DNA replication related
      - DNA recombination related
      - Mitochondrial sequence related
      - Other

load:
  ontology:
    synonym_boosts:
      name: 1.1
      exact: 1.1
      broad: 0.2
      related: 0.2
    term_boosts: ~
# artificially boost these terms in the results:
#      "GO:0000982": 2.0
    synonym_types:
      - exact
      - narrow
      - broad
      - related
    relationships_to_load:
      - is_a
      - has_output
      - output_of
      - part_of
      - has_part
      - regulates
      - negatively_regulates
      - positively_regulates
    inverse_relationships:
      # relationships where the more specific term is the object
      - has_part

track_db_template_file: db_templates/track_db_template.sqlite3
curs_db_template_file: db_templates/curs_db_template.sqlite3
ontology_index_dir: ontology_index
relationship_ontology_path: etc/ro.obo

external_sources:
  pubmed_efetch_url: 'http://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi?db=pubmed&retmode=xml&retmax=99999&id='
  pubmed_esearch_url: 'http://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=pubmed&remode=xml&retmax=99999&term='

implementation_classes:
  gene_adaptor: Canto::Track::GeneLookup
  ontology_adaptor: Canto::Track::OntologyLookup
  status_adaptor: Canto::Track::StatusStorage
  person_adaptor: Canto::Track::PersonLookup
  pubs_adaptor: Canto::Track::PubsLookup
  organism_adaptor: Canto::Track::OrganismLookup
  strain_adaptor: Canto::Track::StrainLookup

wildtype_name_template: '@@gene_display_name@@+'
deletion_name_template: '@@gene_display_name@@delta'

allele_type_list:
  - name: wild type
    export_type: wild_type
    show_description: false
    description_required: false
    allele_name_required: true
    allow_expression_change: true
    expression_required: true
  - name: deletion
    export_type: deletion
    show_description: false
    description_required: false
    allele_name_required: true
    allow_expression_change: false
  - name: disruption
    name_hint: "e.g. pom1::ura4+"
    export_type: disruption
    show_description: true
    description_required: false
    allele_name_required: true
    allow_expression_change: true
  - name: unknown
    export_type: unknown
    show_description: false
    description_required: false
    allele_name_required: true
    allow_expression_change: true
    expression_required: true
  - name: amino acid insertion
    export_type: amino_acid_insertion
    show_description: true
    description_required: true
    allele_name_required: false
    allow_expression_change: true
    expression_required: true
    placeholder: e.g. 858-MKGYP
  - name: "amino acid substitution(s)"
    export_type: amino_acid_mutation
    show_description: true
    description_required: true
    allele_name_required: false
    allow_expression_change: true
    expression_required: true
    placeholder: eg. K132A
  - name: amino acid insertion and substitution
    export_type: amino_acid_insertion_and_mutation
    show_description: true
    description_required: true
    allele_name_required: false
    allow_expression_change: true
    expression_required: true
    placeholder: e.g. 858-MKGYP,F124D
  - name: amino acid insertion and deletion
    export_type: amino_acid_insertion_and_deletion
    show_description: true
    description_required: true
    allele_name_required: false
    allow_expression_change: true
    expression_required: true
    placeholder: e.g. 858-MKGYP,100-200
  - name: partial deletion and amino acid change
    export_type: amino_acid_deletion_and_mutation
    show_description: true
    description_required: true
    allele_name_required: false
    allow_expression_change: true
    expression_required: true
    placeholder: e.g. 100-200,F124D
  - name: partial deletion, amino acid
    export_type: partial_amino_acid_deletion
    show_description: true
    description_required: true
    allele_name_required: false
    allow_expression_change: true
    expression_required: true
    placeholder: "Please specify deleted residues - eg. 100-200 OR 10-20,40-50"
  - name: nucleotide insertion
    export_type: nucleotide_insertion
    show_description: true
    description_required: true
    allele_name_required: false
    allow_expression_change: true
    expression_required: true
    placeholder: e.g. 132-AATTT
  - name: "nucleotide substitution(s)"
    export_type: nucleotide_mutation
    show_description: true
    description_required: true
    allele_name_required: false
    allow_expression_change: true
    expression_required: true
    placeholder: eg. A25G, OR A-25G (for promoter region)
  - name: partial deletion, nucleotide
    export_type: partial_nucleotide_deletion
    show_description: true
    description_required: true
    allele_name_required: false
    allow_expression_change: true
    expression_required: true
    placeholder: "Please specify deleted residues - eg. 100-200 OR -20--30 (for promoter region)"
  - name: nonsense mutation
    export_type: nonsense_mutation
    show_description: true
    description_required: true
    allow_expression_change: true
    expression_required: true
    allele_name_required: false
    placeholder: 'e.g. aa123->stop, aa1299->amber'
  - name: other
    export_type: other
    show_description: true
    description_required: true
    allele_name_required: false
    allow_expression_change: true
    expression_required: true
    placeholder: Please provide a description
#  - name: aberration
#    export_type: aberration
#    show_description: true
#    description_required: false
#    allele_name_required: false
#    allow_expression_change: false
#    expression_required: false

evidence_types:
  IMP:
    name: Inferred from Mutant Phenotype
  IDA:
    name: Inferred from Direct Assay
  IGI:
    name: Inferred from Genetic Interaction
    with_gene: 1
  IPI:
    name: Inferred from Physical Interaction
    with_gene: 1
  EXP:
    name: Inferred from Experiment
  IEP:
    name: Inferred from Expression Pattern
  ISS:
    name: Inferred from Sequence or Structural Similarity
    with_gene: 1
  ISO:
    name: Inferred from Sequence Orthology
  ISA:
    name: Inferred from Sequence Alignment
  ISM:
    name: Inferred from Sequence Model
  IGC:
    name: Inferred from Genomic Context
  IBA:
    name: Inferred from Biological aspect of Ancestor
  IBD:
    name: Inferred from Biological aspect of Descendant
  IKR:
    name: Inferred from Key Residues
  IRD:
    name: Inferred from Rapid Divergence
  RCA:
    name: inferred from Reviewed Computational Analysis
  NAS:
    name: Non-traceable Author Statement
  IC:
    name: Inferred by Curator
  ND:
    name: No biological Data available
  IEA:
    name: Inferred from Electronic Annotation
  NR:
    name: Not Recorded
  TAS:
    name: Traceable Author Statement
  UNK:
    name: Unknown
  Microscopy: ~
  'Cell growth assay': ~
  'Other': ~
  'Affinity Capture-Luminescence':
    definition: "An interaction is inferred when a bait protein, tagged with luciferase, is enzymatically detected in immunoprecipitates of the prey protein as light emission. The prey protein is affinity captured from cell extracts by either polyclonal antibody or epitope tag."
    name: 'Affinity Capture-Luminescence (affinity captures)'
    non_symmetric_interaction_labels:
      interactor_a: affinity captures
      interactor_b: affinity captured by
  'Affinity Capture-MS':
    definition: "An interaction is inferred when a bait protein is affinity captured from cell extracts by either polyclonal antibody or epitope tag and the associated interaction partner is identified by mass spectrometric methods."
    name: 'Affinity Capture-MS (affinity captures)'
    non_symmetric_interaction_labels:
      interactor_a: affinity captures
      interactor_b: affinity captured by
  'Affinity Capture-RNA':
    definition: "An interaction is inferred when a bait protein is affinity captured from cell extracts by either polyclonal antibody or epitope tag and associated RNA species identified by Northern blot, RT-PCR, affinity labeling, sequencing, or microarray analysis."
    name: 'Affinity Capture-RNA (affinity captures)'
    non_symmetric_interaction_labels:
      interactor_a: affinity captures
      interactor_b: affinity captured by
  'Affinity Capture-Western':
    definition: "An interaction is inferred when a bait protein is affinity captured from cell extracts by either polyclonal antibody or epitope tag and the associated interaction partner identified by Western blot with a specific polyclonal antibody or second epitope tag. This category is also used if an interacting protein is visualized directly by dye stain or radioactivity. Note that this differs from any co-purification experiment involving affinity capture in that the co-purification experiment involves at least one extra purification step to get rid of potential contaminating proteins."
    name: 'Affinity Capture-Western (affinity captures)'
    non_symmetric_interaction_labels:
      interactor_a: affinity captures
      interactor_b: affinity captured by
  'Biochemical Activity':
    definition: 'An interaction is inferred from the biochemical effect of one protein upon another, for example, GTP-GDP exchange activity or phosphorylation of a substrate by a kinase. The "bait" protein executes the activity on the substrate "hit" protein. A Modification value is recorded for interactions of this type with the possible values Phosphorylation, Ubiquitination, Sumoylation, Dephosphorylation, Methylation, Prenylation, Acetylation, Deubiquitination, Proteolytic Processing, Glucosylation, Nedd(Rub1)ylation, Deacetylation, No Modification, Demethylation.'
    non_symmetric_interaction_labels:
      interactor_a: n/a (would be modifies)
      interactor_b: (would be modified by)
  'Chromatography evidence': ~
  'Co-crystal Structure':
    definition: "Interaction directly demonstrated at the atomic level by X-ray crystallography. Also used for NMR or Electron Microscopy (EM) structures. If there is no obvious bait-hit directionality to the interaction involving 3 or more proteins, then the co-crystallized proteins should be listed as a complex."
    name: 'Co-crystal Structure (or NMR structure)'
  'Co-fractionation':
    definition: "Interaction inferred from the presence of two or more protein subunits in a partially purified protein preparation. If co-fractionation is demonstrated between 3 or more proteins, then add them as a complex."
  'Co-localization':
    definition: "Interaction inferred from two proteins that co-localize in the cell by indirect immunofluorescence only when in addition, if one gene is deleted, the other protein becomes mis-localized. Also includes co-dependent association of proteins with promoter DNA in chromatin immunoprecipitation experiments."
  'Co-purification':
    definition: "An interaction is inferred from the identification of two or more protein subunits in a purified protein complex, as obtained by classical biochemical fractionation or affinity purification and one or more additional fractionation steps."
  'Dosage Growth Defect':
    definition: "A genetic interaction is inferred when over expression or increased dosage of one gene causes a growth defect in a strain that is mutated or deleted for another gene."
    name: 'Dosage Growth Defect (growth defect in presence of overexpressed)'
    non_symmetric_interaction_labels:
      interactor_a: growth defect in presence of overexpressed
      interactor_b: overexpression causes growth defect to
  'Dosage Lethality':
    definition: "A genetic interaction is inferred when over expression or increased dosage of one gene causes lethality in a strain that is mutated or deleted for another gene."
    name: 'Dosage Lethality (inviable in presence of overexpressed)'
    non_symmetric_interaction_labels:
      interactor_a: inviable in presence of overexpressed
      interactor_b: overexpression lethal to
  'Dosage Rescue':
    definition: "A genetic interaction is inferred when over expression or increased dosage of one gene rescues the lethality or growth defect of a strain that is mutated or deleted for another gene."
    name: 'Dosage Rescue (rescued by overexpression of)'
    non_symmetric_interaction_labels:
      interactor_a: rescued by overexpression of
      interactor_b: overexpression rescues
  'FRET':
    definition: "An interaction is inferred when close proximity of interaction partners is detected by fluorescence resonance energy transfer between pairs of fluorophore-labeled molecules, such as occurs between CFP (donor) and YFP (acceptor) fusion proteins."
    name: 'FRET (fluorescence resonance energy donor to)'
    non_symmetric_interaction_labels:
      interactor_a: fluorescence resonance energy donor to
      interactor_b: fluorescence resonance energy acceptor from
  'Far Western':
    definition: "An interaction is detected between a protein immobilized on a membrane and a purified protein probe."
    name: 'Far Western (captures)'
    non_symmetric_interaction_labels:
      interactor_a: captures
      interactor_b: captured by
  'Microarray RNA expression level data': ~
  'PCA':
    definition: "A Protein-Fragment Complementation Assay (PCA) is a protein-protein interaction assay in which a bait protein is expressed as fusion to one of the either N- or C- terminal peptide fragments of a reporter protein and prey protein is expressed as fusion to the complementary N- or C- terminal fragment of the same reporter protein. Interaction of bait and prey proteins bring together complementary fragments, which can then fold into an active reporter, e.g. the split-ubiquitin assay."
    name: 'PCA (interacts with)'
  'Phenotypic Enhancement':
    definition: "A genetic interaction is inferred when mutation or overexpression of one gene results in enhancement of any phenotype (other than lethality/growth defect) associated with mutation or over expression of another gene."
    name: 'Phenotypic Enhancement (phenotype enhanced by)'
    non_symmetric_interaction_labels:
      interactor_a: phenotype enhanced by
      interactor_b: enhances phenotype of
  'Phenotypic Suppression':
    definition: "A genetic interaction is inferred when mutation or over expression of one gene results in suppression of any phenotype (other than lethality/growth defect) associated with mutation or over expression of another gene."
    name: 'Phenotypic Suppression (rescued by)'
    non_symmetric_interaction_labels:
      interactor_a: rescued by
      interactor_b: rescues
  'Protein-RNA':
    definition: "An interaction is detected between and protein and an RNA in vitro."
    name: 'Protein-RNA (binds to RNA)'
    non_symmetric_interaction_labels:
      interactor_a: binds to RNA
      interactor_b: binds to protein
  'Protein-peptide':
    definition: "An interaction is detected between a protein and a peptide derived from an interaction partner. This includes phage display experiments."
    name: 'Protein-peptide (binds to peptide)'
    non_symmetric_interaction_labels:
      interactor_a: binds to peptide
      interactor_b: (peptide) binds to protein
  'Reconstituted Complex':
    definition: "An interaction is detected between two proteins in vitro."
  'RNA protection assay evidence': ~
  'Synthetic Growth Defect':
    definition: "A genetic interaction is inferred when mutations in separate genes, each of which alone causes a minimal phenotype, result in a significant growth defect under a given condition when combined in the same cell."
  'Synthetic Haploinsufficiency':
    definition: "A genetic interaction is inferred when mutations or deletions in separate genes, at least one of which is hemizygous, cause a minimal phenotype alone but result in lethality when combined in the same cell under a given condition."
  'Synthetic Lethality':
    definition: "A genetic interaction is inferred when mutations or deletions in separate genes, each of which alone causes a minimal phenotype, result in lethality when combined in the same cell under a given condition."
  'Synthetic Rescue':
    definition: "A genetic interaction is inferred when mutations or deletions of one gene rescues the lethality or growth defect of a strain mutated or deleted for another gene."
    name: 'Synthetic Rescue (synthetically rescued by)'
    non_symmetric_interaction_labels:
      interactor_a: synthetically rescued by
      interactor_b: synthetically rescues
  'Two-hybrid':
    definition: "Bait protein expressed as a DNA binding domain (DBD) fusion and prey expressed as a transcriptional activation domain (TAD) fusion and interaction measured by reporter gene activation."
    name: 'Two-hybrid (binds activation domain construct with)'
    non_symmetric_interaction_labels:
      interactor_a: binds activation domain construct with
      interactor_b: binds DNA-binding domain construct with
  Northern blot: ~
  Microarray: ~
  Other transcript expression level assay: ~
  Western blot: ~
  'Reporter gene assay': ~
  'Enzyme assay data': ~
  'Flow cytometry data': ~
  'Chromatin immunoprecipitation experiment': ~
  'Quantitative PCR': ~
  'Immunolocalization experiment data': ~
  'Epitope-tagged protein immunolocalization experiment data': ~
  'Co-immunoprecipitation experiment': ~
  'Electrophoretic mobility shift assay data': ~
  'Particle size and count assay': ~
  'Substance quantification': ~
  'Western blot assay': ~
  'Substance quantification evidence': ~
  'Transcript expression level evidence': ~
  'Competitive growth assay evidence': ~
  'Gel electrophoresis evidence': ~
  'Plasmid maintenance assay evidence': ~

# Configuration that applies to an ontology namespace.  An ontology can
# be used by more than one annotation_type.  Some (like FYPO_EXT) are
# only used in extensions.
# Note: all terms with no parent are tagged with "canto_root_subset" on load
ontology_namespace_config:
  subsets_to_ignore:
    primary_autocomplete:
      - "is_a(Grouping_terms)"
    primary_select:
      - "is_a(Grouping_terms)"
      - "is_a(qc_do_not_annotate)"
    extension:
      - "is_a(canto_root_subset)"
      - "is_a(qc_do_not_annotate)"
  do_not_annotate_subsets:
    - "is_a(canto_root_subset)"
    - "is_a(qc_do_not_annotate)"

namespace_term_evidence_codes: {}

available_annotation_type_list:
  - name: molecular_function
    category: ontology
    abbreviation: F
    very_short_display_name: 'function'
    short_display_name: 'molecular function'
    display_name: 'GO molecular function'
    feature_type: 'gene'
    can_have_with: 1
    evidence_codes:
      - IDA
      - IGI
      - IMP
      - IPI
      - EXP
    admin_evidence_codes:
      - ISS
    broad_term_suggestions: >
      transporter, transferase activity
    specific_term_examples: >
      adenylate cyclase activity or biotin transporter activity
    help_text: >
      A molecular function is a catalytic (e.g. protein
      serine/threonine kinase activity, pyruvate carboxylase activity)
      or binding activity, or any other activity that occurs at the
      molecular level.
    more_help_text: >
      GO molecular function terms represent activities, rather than
      the things that perform the actions (gene products or
      complexes). As a general rule, molecular functions correspond to
      single step activities performed by individual gene products.
    detailed_help_path: /docs/go_annotation
  - name: biological_process
    category: ontology
    abbreviation: P
    very_short_display_name: 'process'
    short_display_name: 'biological process'
    display_name: 'GO biological process'
    feature_type: 'gene'
    can_have_with: 1
    evidence_codes:
      - IMP
      - IDA
      - IGI
      - IPI
      - EXP
    admin_evidence_codes:
      - ISS
    broad_term_suggestions: >
      cell cycle, transport
    specific_term_examples: >
      pyrimidine metabolic process or alpha-glucoside transport
    help_text: >
      A biological process is series of events accomplished by one or more
      ordered assemblies of molecular functions, such as cell cycle regulation, 
      ion transport, or signal transduction.
    more_help_text: >
      It can be difficult to distinguish between a biological process
      and a molecular function, but the general rule is that a process must
      have more than one distinct step.
    suggest_term_help_text: >
      A new term should be differentiated from the parent as a "sub term"  by
      the mechanism of action, or the genes which are required to perform the
      action. It should not be differentiated only by its target gene
      products. For example, histone H2A-S121 phosphorylation
      is a valid term request because it is performed by a set of genes
      specific for this process, translation of histone H2A is not a valid
      term request because there is no translation machinery specifically for
      histone H2A.
    detailed_help_path: /docs/go_annotation
  - name: cellular_component
    category: ontology
    abbreviation: C
    very_short_display_name: 'component'
    short_display_name: 'cellular component'
    display_name: 'GO cellular component'
    feature_type: 'gene'
    can_have_with: 1
    evidence_codes:
      - IDA
      - IGI
      - IMP
      - IPI
      - EXP
    admin_evidence_codes:
      - ISS
    broad_term_suggestions: >
      rough endoplasmic reticulum, nucleus, ribosome
    specific_term_examples: >
      condensed nuclear chromosome, inner kinetochore and GET complex
    help_text: >
      Cellular components include subcellular structures and
      macromolecular complexes, such as nucleus, nuclear inner
      membrane, nuclear pore, and proteasome complex.
    more_help_text: >
      Generally, a gene product is located in or is a subcomponent of a
      particular cellular component. The cellular component ontology includes
      multi-subunit enzymes and other protein complexes, but not individual
      proteins or nucleic acids. Cellular component also does not include
      multicellular anatomical terms.
    detailed_help_path: /docs/go_annotation
  - name: host_phenotype
    category: ontology
    namespace: 'host_phenotype'
    very_short_display_name: 'host phenotype'
    short_display_name: 'host phenotype'
    display_name: 'host phenotype'
    synonyms_to_display:
      - exact
    feature_type: 'genotype'
    feature_subtype: 'host'
    can_have_conditions: 1
    evidence_codes:
      - Cell growth assay
      - Enzyme assay data
      - Epitope-tagged protein immunolocalization experiment data
      - Flow cytometry data
      - Gel electrophoresis evidence
      - Immunolocalization experiment data
      - Microscopy (cellular)
      - Other
      - Particle size and count assay
      - Quantitative PCR
      - Reporter gene assay
      - Substance quantification evidence
      - Transcript expression level evidence
      - Western blot assay
      - Macroscopic observation (qualitative observation)
      - Macroscopic observation (quantitative observation)
      - Microscopy (subcellular)
      - Electrophysiology assay
    broad_term_suggestions: >
      multinucleate, abnormal spindle, inviable
    specific_term_examples: >
      growth auxotrophic for arginine, abnormal cytokinetic cell separation
    help_text: >
      Annotate normal or abnormal phenotypes of cells with this genotype.
    more_help_text: >
      A phenotype is any observable characteristic or trait of an organism;
      observable characteristics include morphology, development, biochemical or
      physiological properties, behaviour, and products of behaviour of the
      organism. Phenotypes result from the expression of the genes of an organism as well
      as the influence of environmental factors and the interactions between
      the two.
    extra_help_text: >
      Alleles may be annotated with multiple phenotype terms,
      including both normal and abnormal phenotypes for one allele.
    detailed_help_path: /docs/fypo_annotation
  - name: pathogen_phenotype
    category: ontology
    namespace: 'pathogen_phenotype'
    very_short_display_name: 'pathogen phenotype'
    short_display_name: 'pathogen phenotype'
    display_name: 'pathogen phenotype'
    synonyms_to_display:
      - exact
    feature_type: 'genotype'
    feature_subtype: 'pathogen'
    can_have_conditions: 1
    evidence_codes:
      - Cell growth assay
      - Competitive growth assay evidence
      - Enzyme assay data
      - Epitope-tagged protein immunolocalization experiment data
      - Flow cytometry data
      - Gel electrophoresis evidence
      - Immunolocalization experiment data
      - Microscopy (cellular)
      - Other
      - Particle size and count assay
      - Quantitative PCR
      - Reporter gene assay
      - Substance quantification evidence
      - Transcript expression level evidence
      - Western blot assay
      - Penetration assay
      - Asexual sporulation assay
      - Sexual sporulation assay
      - Macroscopic observation (qualitative observation)
      - Macroscopic observation (quantitative observation)
      - Microscopy (subcellular)
      - Electrophysiology assay
    broad_term_suggestions: >
      multinucleate, abnormal spindle, inviable
    specific_term_examples: >
      growth auxotrophic for arginine, abnormal cytokinetic cell separation
    help_text: >
      Annotate normal or abnormal phenotypes of cells with this genotype.
    more_help_text: >
      A phenotype is any observable characteristic or trait of an organism;
      observable characteristics include morphology, development, biochemical or
      physiological properties, behaviour, and products of behaviour of the
      organism. Phenotypes result from the expression of the genes of an organism as well
      as the influence of environmental factors and the interactions between
      the two.
    extra_help_text: >
      Alleles may be annotated with multiple phenotype terms,
      including both normal and abnormal phenotypes for one allele.
    detailed_help_path: /docs/fypo_annotation
  - name: disease_formation_phenotype
    category: ontology
    namespace: disease_formation_phenotype
    very_short_display_name: 'PHI-phenotype'
    short_display_name: 'PHI-phenotype'
    display_name: 'disease formation phenotype'
    synonyms_to_display:
      - exact
    feature_type: 'metagenotype'
    can_have_conditions: 1
    evidence_codes:
      - Cell growth assay
      - Chromatin immunoprecipitation experiment
      - Chromatography evidence
      - Competitive growth assay evidence
      - Electrophoretic mobility shift assay data
      - Enzyme assay data
      - Epitope-tagged protein immunolocalization experiment data
      - Flow cytometry data
      - Gel electrophoresis evidence
      - Immunolocalization experiment data
      - Microscopy (cellular)
      - Other
      - Particle size and count assay
      - Quantitative PCR
      - Reporter gene assay
      - Substance quantification evidence
      - Transcript expression level evidence
      - Western blot assay
      - Functional test in host
      - Penetration assay
      - Asexual sporulation assay
      - Sexual sporulation assay
      - Macroscopic observation (qualitative observation)
      - Macroscopic observation (quantitative observation)
      - Microscopy (subcellular)
      - Electrophysiology assay
    broad_term_suggestions: >
      multinucleate, abnormal spindle, inviable
    specific_term_examples: >
      growth auxotrophic for arginine, abnormal cytokinetic cell separation
    help_text: >
      Annotate normal or abnormal phenotypes of cells with this genotype.
    more_help_text: >
      A phenotype is any observable characteristic or trait of an organism;
      observable characteristics include morphology, development, biochemical or
      physiological properties, behaviour, and products of behaviour of the
      organism. Phenotypes result from the expression of the genes of an organism as well
      as the influence of environmental factors and the interactions between
      the two.
    extra_help_text: >
      Alleles may be annotated with multiple phenotype terms,
      including both normal and abnormal phenotypes for one allele.
    detailed_help_path: /docs/fypo_annotation
  - name: phenotype
    category: ontology
    namespace: fission_yeast_phenotype
    very_short_display_name: 'phenotype'
    short_display_name: 'phenotype'
    display_name: 'phenotype'
    synonyms_to_display:
      - exact
    feature_type: 'genotype'
    can_have_conditions: 1
    evidence_codes:
      - Cell growth assay
      - Chromatin immunoprecipitation experiment
      - Chromatography evidence
      - Co-immunoprecipitation experiment
      - Competitive growth assay evidence
      - Electrophoretic mobility shift assay data
      - Enzyme assay data
      - Epitope-tagged protein immunolocalization experiment data
      - Flow cytometry data
      - Gel electrophoresis evidence
      - Immunolocalization experiment data
      - Microscopy
      - Other
      - Particle size and count assay
      - Plasmid maintenance assay evidence
      - Quantitative PCR
      - Reporter gene assay
      - Substance quantification evidence
      - Transcript expression level evidence
      - Western blot assay
    broad_term_suggestions: >
      multinucleate, abnormal spindle, inviable
    specific_term_examples: >
      growth auxotrophic for arginine, abnormal cytokinetic cell separation
    help_text: >
      Annotate normal or abnormal phenotypes of cells with this genotype.
    more_help_text: >
      A phenotype is any observable characteristic or trait of an organism;
      observable characteristics include morphology, development, biochemical or
      physiological properties, behaviour, and products of behaviour of the
      organism. Phenotypes result from the expression of the genes of an organism as well
      as the influence of environmental factors and the interactions between
      the two.
    extra_help_text: >
      Alleles may be annotated with multiple phenotype terms,
      including both normal and abnormal phenotypes for one allele.
    detailed_help_path: /docs/fypo_annotation
  - name: post_translational_modification
    category: ontology
    namespace: PSI-MOD
    display_name: 'protein modification'
    feature_type: 'gene'
    broad_term_suggestions: >
      phosphorylated, methylated, lysine
    specific_term_examples: >
      O-phospho-L-serine, monomethylated L-lysine
    help_text: >
      A protein modification is a covalent modification or other change that
      alters the measured molecular mass of a peptide or protein amino acid
      residue
    more_help_text: ~
    evidence_codes:
      - IDA
    detailed_help_path: /docs/modification_annotation
  - name: wt_rna_expression
    category: ontology
    ontology_size: small
    namespace: PomGeneEx
    display_name: 'RNA level'
    feature_type: 'gene'
    broad_term_suggestions: ~
    specific_term_examples: ~
    help_text: ~
    more_help_text: ~
    evidence_codes:
      - Microarray
      - Northern blot
      - Quantitative PCR
      - Reporter gene assay
  - name: wt_protein_expression
    category: ontology
    ontology_size: small
    namespace: PomGeneEx
    display_name: 'Protein level'
    feature_type: 'gene'
    broad_term_suggestions: ~
    specific_term_examples: ~
    help_text: ~
    more_help_text: ~
    evidence_codes:
      - Reporter gene assay
      - Western blot
  - name: genetic_interaction
    namespace: fission_yeast_phenotype
    can_have_conditions: 1
    category: interaction
    display_name: 'genetic interaction'
    feature_type: 'metagenotype'
    help_text: 'Examples: synthetic lethality, dosage suppression, phenotype enhancement.'
    evidence_codes:
      - Dosage Growth Defect
      - Dosage Lethality
      - Dosage Rescue
      - Phenotypic Enhancement
      - Phenotypic Suppression
      - Synthetic Growth Defect
      - Synthetic Haploinsufficiency
      - Synthetic Lethality
      - Synthetic Rescue
    detailed_help_path: /docs/genetic_interaction_annotation
  - name: physical_interaction
    category: interaction
    display_name: 'physical interaction'
    feature_type: 'gene'
    help_text: 'Examples: co-purification, two-hybrid, affinity capture'
    evidence_codes:
      - Affinity Capture-Luminescence
      - Affinity Capture-MS
      - Affinity Capture-RNA
      - Affinity Capture-Western
      - Co-crystal Structure
      - Co-fractionation
      - Co-purification
      - Far Western
      - FRET
      - PCA
      - Protein-peptide
      - Protein-RNA
      - Reconstituted Complex
      - Two-hybrid
    detailed_help_path: /docs/physical_interaction_annotation

# restrict the list of annotation types
enabled_annotation_type_list:
  - molecular_function
  - biological_process
  - cellular_component
  - phenotype
  - post_translational_modification
  - genetic_interaction
  - physical_interaction

default_curation_priority_name: low

messages:
  gene_upload:
    systematic_identifier_desc: systematic identifier
    primary_name_desc: standard name
    examples:
      gene_identifier: 'SPCC1739.10'
      gene_name: 'cdc11'

test_config_file: 't/test_config.yaml'

help_text:
  choose_gene:
    inline: >
      Once you have selected a gene to annotate you will be presented with a
      set of annotation options
  choose_genotype:
    inline: >
      Add genotypes (including alleles, expression levels, and optional
      background) to use in annotating phenotypes. You can add genotypes
      individually as you go through the paper, or all at once before you
      start adding phenotype annotations.
  gene_page_choose_curation_type:
    inline: >
      These are the types of data you can annotate. Follow one of the links for more detailed instructions.
  gene_page_single_allele:
    inline: >
      One or more mutations, or an expression change, in one copy of a gene at one locus.
    docs_path: "fypo_annotation#single-allele-phenotypes"
  gene_page_multi_allele:
    inline: >
      Changes in sequence or expression at two or more loci.
    docs_path: "fypo_annotation#multi-allele-phenotypes"
  allele_choose_conditions:
    inline: >
      Please describe any experimental conditions relevant to this
      allele-phenotype combination:
      Start typing a description of a condition. If one of the autocomplete
      options matches, click it to add it to the box. If none match, you can type
      out a new description and it will be saved.
      If you tested a set of conditions all at once (e.g. grew cells at high
      temperature and in minimal medium), put the condition descriptions together
      in a single box. For conditions tested one at a time (e.g. separate
      experiments at high and low temperature, or separate cultures with high and
      low glucose levels), list each condition separately.
  allele_expression_choose:
    inline: >
      Indicate the level of gene product present if assayed; otherwise choose
      'not assayed'
  genotype_edit_name_input:
    inline: >
      Provide a short name for this genotype (optional)
  genotype_edit_background_input:
    inline: >
      List alleles that form the genotype background, i.e. alleles that are
      present but do not affect the phenotype (optional)
  genetic_interaction_evidence:
    url: "http://wiki.thebiogrid.org/doku.php/experimental_systems#genetic_interactions"
  physical_interaction_evidence:
    url: "http://wiki.thebiogrid.org/doku.php/experimental_systems#physical_interactions"
  biological_process_definition:
    inline: Click for help on biological process
    docs_path: "go_annotation#process"
  cellular_component_definition:
    inline: Click for help on cellular component
    docs_path: "go_annotation#component"
  molecular_function_definition:
    inline: Click for help on molecular function
    docs_path: "go_annotation#function"
  post_translational_modification_definition:
    inline: Click for help on modification annotation
    docs_path: "modification_annotation"
  physical_interaction_definition:
    inline: Click for help on physical interaction annotation
    docs_path: "physical_interaction_annotation"
  genetic_interaction_definition:
    inline: Click for help on genetic interaction annotation
    docs_path: "genetic_interaction_annotation"

contact_email:
  address: "set_me@localhost"

external_links:
  gene:
#### use this style of configuration for links that work for all organisms
#    generic:
#      - name: AmiGO
#        icon: amigo.png
#        url: 'http://amigo.geneontology.org/cgi-bin/amigo/gp-assoc.cgi?gp=@@primary_identifier@@'
    organism:
      Schizosaccharomyces pombe:
        - name: PomBase
          icon: pombase_logo_small.png
          url: 'http://www.pombase.org/spombe/result/@@primary_identifier@@'
          sysid_link: 1
  pub:
    - name: PubMed
      icon: PubMed_logo_small.png
      url: 'http://www.ncbi.nlm.nih.gov/entrez/query.fcgi?cmd=Retrieve&db=PubMed&dopt=Abstract&list_uids=@@uniquename@@'

webservices:
  uniprot_batch_lookup_url: 'https://www.uniprot.org/uniprot/?format=xml&query='
  quickgo_annotation_lookup_url: 'https://www.ebi.ac.uk/QuickGO/services/annotation/downloadSearch?downloadLimit=1000&reference='

config_service:
  # settings visible via the config web service
  allowed_keys:
    allele_types: 1
    allele_type_list: 1
    allele_type_names: 1
    annotation_types: 1
    annotation_type_list: 1
    curs_config: 1
    evidence_types: 1
    ontology_external_links: 1
    instance_organism: 1
    extension_configuration: 1
    max_term_name_select_count: 1
    pathogen_host_mode: 1
    multi_organism_mode: 1
    help_text: 1
    public_mode: 1
    ontology_namespace_config: 1
    wildtype_name_template: 1
    deletion_name_template: 1
    allele_note_types: 1

max_term_name_select_count: 20

curs_settings_service:
  allowed_keys:
    annotation_mode: 1
    message_for_curators: 1
  allowed_data_keys:
    checked: 1

ontology_external_links:
  cellular_component:
    - name: AmiGO
      icon: amigo.png
      url: 'http://amigo.geneontology.org/cgi-bin/amigo/term_details?term=@@term_ont_id@@'
    - name: QuickGO
      icon: quickgo.png
      url: 'http://www.ebi.ac.uk/QuickGO/GTerm?id=@@term_ont_id@@#term=ancchart'
  molecular_function:
    - name: AmiGO
      icon: amigo.png
      url: 'http://amigo.geneontology.org/cgi-bin/amigo/term_details?term=@@term_ont_id@@'
    - name: QuickGO
      icon: quickgo.png
      url: 'http://www.ebi.ac.uk/QuickGO/GTerm?id=@@term_ont_id@@#term=ancchart'
  biological_process:
    - name: AmiGO
      icon: amigo.png
      url: 'http://amigo.geneontology.org/cgi-bin/amigo/term_details?term=@@term_ont_id@@'
    - name: QuickGO
      icon: quickgo.png
      url: 'http://www.ebi.ac.uk/QuickGO/GTerm?id=@@term_ont_id@@#term=ancchart'
  fission_yeast_phenotype:
    - name: BioPortal
      icon: bioportal.png
      url: 'http://bioportal.bioontology.org/ontologies/FYPO?p=classes&conceptid=http%3A%2F%2Fpurl.obolibrary.org%2Fobo%2F@@term_ont_id:s/:/_/r@@#visualization'

chado:
  ignore_case_in_gene_query: 1

  ontology_cv_names:
    post_translational_modification: PSI-MOD
    phenotype: fission_yeast_phenotype
    annotation_extension: PomBase annotation extension terms
  annotation_lookup:
# feature_cvterms with these evidence code will be ignored
    evidence_codes_to_ignore:
      - TAS

gene_lookup:
# in Chado and TrackDB lookups, query by name as well as ID if this is 1/true:
  query_by_name: 1

curator_manager:
  accept_hooks:
# call with args: $config, $track_schema, $curs
#
#   UNUSED, see: https://github.com/pombase/canto/issues/1222
#    - set_pub_community_curatable

# if set to "yes", always prompt for an annotation extension on the
# annotation transfer page
always_show_extensions: no

curs_config:
  # Possible reasons for a paper to have no genes, shown on the gene upload
  # page.  The "Other" reason will have a text box beside it.
  no_genes_reasons:
    - No gene specific data
    - Review
    - HTP data only
    - Methods paper
    - Other
  # Possible reasons for a paper to have no annotation in the case
  # where genes are mentioned - so no annotation of gene functions etc.
  no_annotation_reasons:
    - Experimental data, not of available types
    - Method
    - Opinion or Comment
    - Review
    - Other
  demo_user_name: Demo User
  demo_user_email_address: "demo@example.com"

  # we should only follow relationships like has_part in some CVs
  follow_inverse_cv_names:
    - fission_yeast_phenotype

  finish_form:
    # the "extra_text" is always shown on the finish form, the
    # extra_text_gene_information is only shown if the user added some genes to
    # the session
    extra_text: >
      <p>
        If there is any information in your paper which you could not capture in
        the curation tool, please describe the data briefly, as the
        curators may be able to include it in the database.
      </p>
    extra_text_gene_information: >
      <p>
        Examples include:
        <ul>
        <li> protein domain data or other protein sequence features
        <li> missing gene names (synonyms)
        <li> transcriptional regulation (of the wild-type allele - transcriptional changes due to mutations can be captured in Canto)
        <li> complementation data (whether the pombe gene complements a homologue in a different organism or vice versa; complementation may be full, partial or absent)
        <li> gene product name updates
        <li> human or budding yeast orthologs
        </ul>
        Most of these annotation types will be handled in future releases of the
        curation tool.
      </p>

  genotype_config:
    default_strain_name: 'h+'

canto_demo_url: "http://curation.pombase.org/demo"

extra_sponsors: []


# A list of organisms that are treated as host species in Pathogen-Host mode.
# The organisms need to be in the organism table.
# If this list has any elements, the pathogen_host_mode config item is
# automatically set to 1 and host_organisms will be set to a list the Organism
# objects.  multi_organism_mode is also set to 1/true.
host_organism_taxonids: []


cache:
  default_timeout: "2 hours"
  chado_gene_timeout: "24 hours"

# the default DB name to use when loading ontologies in the case where the
# termid doesn't have a DB name prefix
default_db_name: "CONFIGURE_IN_CANTO_DEPLOY.YAML"

## example subset configuration
## the "canto_root_subset" is created automatically and the other are subsets
## defined in OBO files
#
# ontology_namespace_config:
#   subsets_to_ignore:
#     primary_autocomplete:
#       - is_a(canto_root_subset)
#       - is_a(qc_do_not_annotate)
#       - is_a(gocheck_do_not_annotate)
#       - is_a(gocheck_do_not_manually_annotate)
#     extension:
#       - is_a(canto_root_subset)

### configuration for annotation extensions in the user interface
### See: https://github.com/pombase/canto/wiki/AnnotationExtensionConfig
# extension_conf_files:
#   - file_one.tsv
#   - file_two.tsv
